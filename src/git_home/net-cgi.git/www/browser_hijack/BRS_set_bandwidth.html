<!DOCTYPE html>
<html>

<head>
<% new_hijack_flow_head() %>
<script language="javascript" type="text/javascript" src="script/funcs.js"></script>
<% hijack_language() %>
</head>
<body onload="loadVlaue()">
<% form_submit("apply", "BRS_security.html", "duma_set_bandwidth") %>
<% save_timestamp("duma_set_bandwidth", "ookla_speedtest") %>
<script>
var ts = "<% cfg_get("ookla_speedtest") %>";
var upload = "<% cfg_get("ookla_uplimit") %>";
var download = "<% cfg_get("ookla_downlimit") %>";

function loadVlaue()
{
	var cf = document.forms[0];
	if(upload == "" || download == "")
		{$$("#fail").show();
	}

	if(upload != "" && upload*8/1000000 > 0)
		$$("#bw_upload").attr("value", parseFloat(upload*8/1000000).toFixed(2));
	else
		$$("#bw_upload").attr("value", "1000");
	if(download != "" && download*8/1000000 > 0)
		$$("#bw_download").attr("value", parseFloat(download*8/1000000).toFixed(2));
	else
		$$("#bw_download").attr("value", "1000");
}

function setBandwidth()
{
	var cf = document.forms[0];
	var up = $$("#bw_upload").val().replace(/Megabits\/Sec/g, "");
	var down = $$("#bw_download").val().replace(/Megabits\/Sec/g, "");
	cf.hid_downSpeed.value = parseInt(down*1000000/8);
	cf.hid_upSpeed.value = parseInt(up*1000000/8);
	
	return true;
}
function retry_speed()
{
	var cf = document.forms[0];
	cf.action="/func.cgi?/BRS_check_bandwidth.html timestamp="+ts;
	cf.submit_flag.value="ookla_speedtest";
	
	return true;
}

</script>
<input type="hidden" name="hid_upSpeed">
<input type="hidden" name="hid_downSpeed">
<div id="container">
	<div class="dialog-content">
		<div id="card-qos-internet" class="install-card">
          <div class="logos">
		  <img class="netgear-logo" src="images/svg/netgear.svg" onerror="this.onerror=null; this.src='images/duma-os.png'">
		<% hijack_logo_title() %>
          </div>
		<div class="content">
		<div class="qos">
			<div class="qos-panel">
				<div class="desc-title"><script>document.write(bh_your_bandwidth)</script></div>
				<div class="desc-text"><script>document.write(bh_edit_speed_tips)</script></div>              
                <div class="row input-row">
                  <div class="input-field col m6">
                    <input placeholder="" id="bw_download" type="text" class="validate" onkeypress="return getkey('colon_num',event)" onkeyup="clearNoNum(this)" onmouseout="clearNoNum(this)" style="width:40%">
		    <span style="font-size:13px"><script>document.write(bh_speed_unit)</script></span>
		    <label for="bw_download"><script>document.write(bh_download)</script></label>
                  </div>
                  <div class="input-field col m6">
                    <input placeholder="" id="bw_upload" type="text" class="validate" onkeypress="return getkey('colon_num',event)" onkeyup="clearNoNum(this)" onmouseout="clearNoNum(this)" style="width:40%">
		    <span style="font-size:13px"><script>document.write(bh_speed_unit)</script></span>
		    <label for="bw_upload"><script>document.write(bh_upload)</script></label>
                  </div>  
                </div>              
              </div>
		</div>
		</div>
		<div id="badge">
			<!--<a href="http://www.speedtest.net/" target="_blank">-->
			<?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="-117 394.942 360.776 51.948" style="enable-background:new -117 394.942 360.776 51.948;" xml:space="preserve" width="50%">
<style type="text/css">
	.st0{fill:#FFFFFF;}
</style>
<g>
	<path class="st0" d="M215.278,399.905H-88.523c-11.101,0-20.1,8.999-20.1,20.1c0,11.1,8.999,20.099,20.1,20.099h303.801
		c11.101,0,20.099-8.999,20.099-20.099C235.377,408.904,226.379,399.905,215.278,399.905 M215.278,400.931
		c10.517,0,19.073,8.556,19.073,19.074c0,10.517-8.556,19.073-19.073,19.073H-88.523c-10.517,0-19.074-8.556-19.074-19.073
		c0-10.518,8.557-19.074,19.074-19.074H215.278"/>
</g>
<g>
	<path id="XMLID_28_" class="st0" d="M-62.419,426.81l1.985-2.361c1.799,1.556,3.623,2.442,5.93,2.442
		c2.04,0,3.328-0.966,3.328-2.361v-0.054c0-1.342-0.752-2.066-4.24-2.871c-3.998-0.966-6.252-2.147-6.252-5.608v-0.054
		c0-3.22,2.683-5.447,6.413-5.447c2.737,0,4.91,0.832,6.815,2.361l-1.77,2.496c-1.691-1.261-3.381-1.932-5.099-1.932
		c-1.932,0-3.059,0.992-3.059,2.227v0.054c0,1.448,0.859,2.092,4.481,2.951c3.972,0.966,6.011,2.388,6.011,5.501v0.053
		c0,3.515-2.764,5.608-6.708,5.608C-57.456,429.815-60.165,428.823-62.419,426.81"/>
	<path class="st0" d="M-45.061,410.764h7.405c4.401,0,7.138,2.496,7.138,6.279v0.054c0,4.212-3.381,6.413-7.513,6.413h-3.73v6.037
		h-3.3C-45.061,429.547-45.061,410.764-45.061,410.764z M-37.924,420.531c2.496,0,4.052-1.395,4.052-3.354v-0.054
		c0-2.2-1.583-3.354-4.052-3.354h-3.837v6.762H-37.924z"/>
	<polygon id="XMLID_25_" class="st0" points="-27.676,410.765 -13.75,410.765 -13.75,413.716 -24.376,413.716 -24.376,418.6 
		-14.958,418.6 -14.958,421.552 -24.376,421.552 -24.376,426.596 -13.616,426.596 -13.616,429.548 -27.676,429.548 	"/>
	<polygon id="XMLID_24_" class="st0" points="-10.238,410.765 3.688,410.765 3.688,413.716 -6.937,413.716 -6.937,418.6 2.48,418.6 
		2.48,421.552 -6.937,421.552 -6.937,426.596 3.822,426.596 3.822,429.548 -10.238,429.548 	"/>
	<path class="st0" d="M7.202,410.765h7.003c5.903,0,9.981,4.051,9.981,9.337v0.054c0,5.286-4.078,9.391-9.981,9.391H7.202V410.765z
		 M10.502,413.77v12.772h3.703c3.944,0,6.52-2.656,6.52-6.332v-0.054c0-3.676-2.576-6.386-6.52-6.386
		C14.205,413.77,10.502,413.77,10.502,413.77z"/>
	<polygon id="XMLID_21_" class="st0" points="31.991,413.823 26.035,413.823 26.035,410.764 41.275,410.764 41.275,413.823 
		35.318,413.823 35.318,429.546 31.991,429.546 	"/>
	<polygon id="XMLID_20_" class="st0" points="44.761,410.765 58.687,410.765 58.687,413.716 48.061,413.716 48.061,418.6 
		57.479,418.6 57.479,421.552 48.061,421.552 48.061,426.596 58.821,426.596 58.821,429.548 44.761,429.548 	"/>
	<path id="XMLID_19_" class="st0" d="M61.475,426.81l1.986-2.361c1.798,1.556,3.622,2.442,5.93,2.442
		c2.039,0,3.327-0.966,3.327-2.361v-0.054c0-1.342-0.751-2.066-4.24-2.871c-3.998-0.966-6.252-2.147-6.252-5.608v-0.054
		c0-3.22,2.684-5.447,6.413-5.447c2.737,0,4.911,0.832,6.816,2.361l-1.771,2.496c-1.69-1.261-3.381-1.932-5.098-1.932
		c-1.932,0-3.059,0.992-3.059,2.227v0.054c0,1.448,0.858,2.092,4.481,2.951c3.971,0.966,6.01,2.388,6.01,5.501v0.053
		c0,3.515-2.764,5.608-6.708,5.608C66.439,429.815,63.729,428.823,61.475,426.81"/>
	<polygon id="XMLID_18_" class="st0" points="84.146,413.823 78.189,413.823 78.189,410.764 93.43,410.764 93.43,413.823 
		87.473,413.823 87.473,429.546 84.146,429.546 	"/>
	<polygon id="XMLID_17_" class="st0" points="217.246,410.445 216.367,410.445 216.367,409.996 218.609,409.996 218.609,410.445 
		217.731,410.445 217.731,412.755 217.246,412.755 	"/>
	<polygon id="XMLID_16_" class="st0" points="219.114,409.995 219.63,409.995 220.47,411.299 221.309,409.995 221.826,409.995 
		221.826,412.754 221.341,412.754 221.341,410.775 220.47,412.076 220.454,412.076 219.591,410.783 219.591,412.754 
		219.114,412.754 	"/>
	<path id="XMLID_15_" class="st0" d="M-72.513,430.592c2.389-2.389,3.866-5.69,3.866-9.335c0-7.292-5.91-13.203-13.202-13.203
		c-7.291,0-13.202,5.911-13.202,13.203c0,3.645,1.478,6.946,3.867,9.335l1.881-1.881c-1.912-1.907-3.094-4.543-3.094-7.454
		c0-5.819,4.722-10.536,10.548-10.536c5.826,0,10.549,4.717,10.549,10.536c0,2.909-1.181,5.543-3.09,7.449L-72.513,430.592z"/>
	<polygon id="XMLID_14_" class="st0" points="-82.157,423.91 -84.503,421.564 -76.997,414.997 -75.589,416.404 	"/>
	<path class="st0" d="M116.07,422.793v-0.053c0-3.596-2.495-5.903-5.366-5.903c-2.844,0-5.581,2.388-5.581,5.875v0.054
		c0,3.515,2.737,5.877,5.581,5.877C113.682,428.643,116.07,426.469,116.07,422.793 M103.889,415.898h1.314v3.058
		c1.181-1.797,2.925-3.38,5.635-3.38c3.3,0,6.654,2.656,6.654,7.11v0.054c0,4.454-3.354,7.163-6.655,7.163
		c-2.736,0-4.507-1.556-5.635-3.272v7.243h-1.314L103.889,415.898L103.889,415.898z"/>
	<path class="st0" d="M133.298,422.793v-0.053c0-3.3-2.468-5.931-5.635-5.931c-3.246,0-5.58,2.657-5.58,5.877v0.054
		c0,3.299,2.468,5.928,5.635,5.928C130.964,428.668,133.298,426.012,133.298,422.793 M120.661,422.793v-0.053
		c0-3.837,2.978-7.164,7.057-7.164c4.051,0,7.002,3.273,7.002,7.11v0.054c0,3.836-2.978,7.163-7.057,7.163
		C123.612,429.903,120.661,426.63,120.661,422.793"/>
	<polygon id="XMLID_9_" class="st0" points="136.922,415.898 138.397,415.898 142.529,427.918 146.661,415.844 147.708,415.844 
		151.839,427.918 155.972,415.898 157.394,415.898 152.376,429.689 151.249,429.689 147.171,417.964 143.065,429.689 
		141.939,429.689 	"/>
	<path class="st0" d="M170.946,422.096c-0.188-2.764-1.772-5.313-4.91-5.313c-2.71,0-4.803,2.28-5.044,5.313H170.946z
		 M159.597,422.766v-0.054c0-3.97,2.79-7.137,6.492-7.137c3.838,0,6.278,3.112,6.278,7.165c0,0.241,0,0.322-0.027,0.536h-11.349
		c0.241,3.407,2.683,5.392,5.365,5.392c2.12,0,3.569-0.938,4.695-2.146l0.913,0.805c-1.397,1.503-3.032,2.575-5.662,2.575
		c-3.595,0-6.708-2.87-6.708-7.136"/>
	<path id="XMLID_6_" class="st0" d="M176.208,415.898h1.314v3.89c1.073-2.441,3.354-4.212,6.065-4.104v1.448h-0.135
		c-3.166,0-5.93,2.388-5.93,6.843v5.606h-1.314V415.898z"/>
	<path class="st0" d="M196.681,422.096c-0.188-2.764-1.771-5.313-4.91-5.313c-2.71,0-4.803,2.28-5.044,5.313H196.681z
		 M185.332,422.766v-0.054c0-3.97,2.79-7.137,6.493-7.137c3.837,0,6.278,3.112,6.278,7.165c0,0.241,0,0.322-0.027,0.536h-11.349
		c0.241,3.407,2.683,5.392,5.365,5.392c2.121,0,3.57-0.938,4.696-2.146l0.913,0.805c-1.396,1.503-3.032,2.575-5.661,2.575
		C188.444,429.902,185.332,427.032,185.332,422.766"/>
	<path class="st0" d="M213.425,422.766v-0.054c0-3.514-2.736-5.875-5.581-5.875c-2.978,0-5.366,2.173-5.366,5.849v0.054
		c0,3.594,2.495,5.903,5.366,5.903C210.69,428.643,213.425,426.254,213.425,422.766 M201.057,422.793v-0.053
		c0-4.454,3.354-7.164,6.654-7.164c2.737,0,4.507,1.555,5.635,3.273v-8.854h1.315v19.586h-1.315v-3.059
		c-1.182,1.798-2.925,3.381-5.635,3.381C204.41,429.903,201.057,427.246,201.057,422.793"/>
</g>
</svg>
<!--</a>-->
</div>
<!--<a href="http://www.speedtest.net/privacy" style="margin-left:30%;text-decoration:underline;color:#CC3300" target="_blank">Privacy Policy</a>--><span style="margin-left:30%;text-decoration:underline;color:#CC3300"> Privacy Policy</span>
		
		<div class="buttons">
			<button class="waves-effect waves-light btn button-nav" onclick="return retry_speed()"><span><script>document.write(bh_try_again)</script></span></button> 
			<button class="waves-effect waves-light btn button-nav btn-icon icon-right" id="next_mark" onclick="return setBandwidth()"><span><script>document.write(bh_orbi_next_mark)</script></span><i class="material-icons">navigate_next</i></button> 		

          </div>
	  <span id="fail" style="display:none"><script>document.write(bh_speedtest_fail)</script></span>
		</div>
	</div>
</div>
</form>
</body>

</html>
